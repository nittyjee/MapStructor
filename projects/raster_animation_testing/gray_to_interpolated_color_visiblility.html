<!DOCTYPE html>
<html>
<head>
    <title>Grayscale to Color Mapping with Slider</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
        }
        #sliderContainer {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #f0f0f0;
            padding: 10px 0;
        }
        #visibilitySlider {
            width: 100%;
            height: 50px;
            -webkit-appearance: none;
        }
        #visibilitySlider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 30px;
            height: 50px;
            background: #4CAF50;
            cursor: pointer;
        }
        #visibilitySlider::-moz-range-thumb {
            width: 30px;
            height: 50px;
            background: #4CAF50;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <canvas id="colorCanvas" width="500" height="500"></canvas>
    <div id="sliderContainer">
        <input type="range" id="visibilitySlider" min="0" max="254" value="254">
        <div>
            <span>Num: <span id="num"></span></span>
            <br>
            <span>Grayscale: <span id="grayValue">255</span></span>
            <br>
            <span>Min Val: <span id="minVal"></span></span>
            <br>
            <span>Max Val: <span id="maxVal"></span></span>
            <br>
            <span>Val: <span id="val"></span></span>
            <br>
            <span>Val * 28: <span id="valMult28"></span></span>
            <br>
            <span>Cumulative Val * 28: <span id="cumValMult28"></span></span>
            <br>
            <span>Percentage Val: <span id="pctVal"></span></span>
            <br>
            <span>Cumulative Percentage Val: <span id="cumPctVal"></span></span>
            <br>
            <span>Square Kilometers: <span id="sqKm"></span></span>
            <br>
            <span>Percentage of Land: <span id="pctLand"></span></span>
            <br>
            <span>Cumulative Percentage of Land: <span id="cumPctLand"></span></span>
        </div>
        
        
    </div>    
    <script>
// Define the custom values for specific slider positions
const positionValues = {};

const csvData = `
0,254,$5,"$1,567","$3,250,009,754","$292,500,877,860","$292,500,877,860",0.4%,0.4%,"755,745",9.7%,9.7%
1,253,"$1,567","$2,044","$3,250,010,552","$292,500,949,680","$585,001,827,540",0.4%,0.8%,"412,325",5.3%,15.1%
2,252,"$2,044","$2,407","$3,250,009,690","$292,500,872,100","$877,502,699,640",0.4%,1.2%,"336,631",4.3%,19.4%
3,251,"$2,407","$2,730","$3,250,008,978","$292,500,808,020","$1,170,003,507,660",0.4%,1.6%,"291,623",3.8%,23.2%
4,250,"$2,730","$3,026","$3,250,008,929","$292,500,803,610","$1,462,504,311,270",0.4%,2%,"260,196",3.4%,26.5%
5,249,"$3,026","$3,301","$3,250,011,632","$292,501,046,880","$1,755,005,358,150",0.4%,2.4%,"236,760",3.1%,29.6%
6,248,"$3,301","$3,548","$3,250,012,001","$292,501,080,090","$2,047,506,438,240",0.4%,2.7%,"218,460",2.8%,32.4%
7,247,"$3,548","$3,785","$3,250,009,049","$292,500,814,410","$2,340,007,252,650",0.4%,3.1%,"204,577",2.6%,35%
8,246,"$3,785","$4,028","$3,250,009,284","$292,500,835,560","$2,632,508,088,210",0.4%,3.5%,"191,698",2.5%,37.5%
9,245,"$4,028","$4,259","$3,250,011,155","$292,501,003,950","$2,925,009,092,160",0.4%,3.9%,"180,597",2.3%,39.8%
10,244,"$4,259","$4,488","$3,250,011,136","$292,501,002,240","$3,217,510,094,400",0.4%,4.3%,"171,372",2.2%,42%
11,243,"$4,488","$4,721","$3,250,009,849","$292,500,886,410","$3,510,010,980,810",0.4%,4.7%,"162,612",2.1%,44.1%
12,242,"$4,721","$4,951","$3,250,009,220","$292,500,829,800","$3,802,511,810,610",0.4%,5.1%,"154,873",2%,46.1%
13,241,"$4,951","$5,189","$3,250,012,165","$292,501,094,850","$4,095,012,905,460",0.4%,5.5%,"147,725",1.9%,48%
14,240,"$5,189","$5,416","$3,250,012,047","$292,501,084,230","$4,387,513,989,690",0.4%,5.9%,"141,222",1.8%,49.8%
15,239,"$5,416","$5,651","$3,250,008,905","$292,500,801,450","$4,680,014,791,140",0.4%,6.3%,"135,331",1.7%,51.6%
16,238,"$5,651","$5,884","$3,250,010,121","$292,500,910,890","$4,972,515,702,030",0.4%,6.7%,"129,873",1.7%,53.3%
17,237,"$5,884","$6,121","$3,250,011,918","$292,501,072,620","$5,265,016,774,650",0.4%,7.1%,"124,767",1.6%,54.9%
18,236,"$6,121","$6,347","$3,250,014,252","$292,501,282,680","$5,557,518,057,330",0.4%,7.5%,"120,148",1.5%,56.4%
19,235,"$6,347","$6,586","$3,250,014,421","$292,501,297,890","$5,850,019,355,220",0.4%,7.8%,"115,843",1.5%,57.9%
20,234,"$6,586","$6,832","$3,250,014,558","$292,501,310,220","$6,142,520,665,440",0.4%,8.2%,"111,639",1.4%,59.3%
21,233,"$6,832","$7,084","$3,250,015,806","$292,501,422,540","$6,435,022,087,980",0.4%,8.6%,"107,622",1.4%,60.7%
22,232,"$7,084","$7,337","$3,250,015,678","$292,501,411,020","$6,727,523,499,000",0.4%,9%,"103,869",1.3%,62.1%
23,231,"$7,337","$7,591","$3,250,012,257","$292,501,103,130","$7,020,024,602,130",0.4%,9.4%,"100,328",1.3%,63.4%
24,230,"$7,591","$7,844","$3,250,010,031","$292,500,902,790","$7,312,525,504,920",0.4%,9.8%,"97,071",1.3%,64.6%
25,229,"$7,844","$8,108","$3,250,011,181","$292,501,006,290","$7,605,026,511,210",0.4%,10.2%,"93,904",1.2%,65.8%
26,228,"$8,108","$8,374","$3,250,016,334","$292,501,470,060","$7,897,527,981,270",0.4%,10.6%,"90,865",1.2%,67%
27,227,"$8,374","$8,652","$3,250,012,899","$292,501,160,910","$8,190,029,142,180",0.4%,11%,"87,981",1.1%,68.1%
28,226,"$8,652","$8,937","$3,250,011,813","$292,501,063,170","$8,482,530,205,350",0.4%,11.4%,"85,160",1.1%,69.2%
29,225,"$8,937","$9,222","$3,250,014,954","$292,501,345,860","$8,775,031,551,210",0.4%,11.8%,"82,489",1.1%,70.3%
30,224,"$9,222","$9,517","$3,250,015,610","$292,501,404,900","$9,067,532,956,110",0.4%,12.2%,"79,942",1%,71.3%
31,223,"$9,517","$9,820","$3,250,010,051","$292,500,904,590","$9,360,033,860,700",0.4%,12.5%,"77,464",1%,72.3%
32,222,"$9,820","$10,100","$3,250,014,107","$292,501,269,630","$9,652,535,130,330",0.4%,12.9%,"75,151",1%,73.3%
33,221,"$10,100","$10,417","$3,250,008,934","$292,500,804,060","$9,945,035,934,390",0.4%,13.3%,"73,017",0.9%,74.2%
34,220,"$10,417","$10,732","$3,250,011,206","$292,501,008,540","$10,237,536,942,930",0.4%,13.7%,"70,832",0.9%,75.1%
35,219,"$10,732","$11,066","$3,250,010,086","$292,500,907,740","$10,530,037,850,670",0.4%,14.1%,"68,699",0.9%,76%
36,218,"$11,066","$11,387","$3,250,020,097","$292,501,808,730","$10,822,539,659,400",0.4%,14.5%,"66,735",0.9%,76.9%
37,217,"$11,387","$11,745","$3,250,018,050","$292,501,624,500","$11,115,041,283,900",0.4%,14.9%,"64,739",0.8%,77.7%
38,216,"$11,745","$12,105","$3,250,015,607","$292,501,404,630","$11,407,542,688,530",0.4%,15.3%,"62,830",0.8%,78.5%
39,215,"$12,105","$12,495","$3,250,010,747","$292,500,967,230","$11,700,043,655,760",0.4%,15.7%,"60,901",0.8%,79.3%
40,214,"$12,495","$12,903","$3,250,009,531","$292,500,857,790","$11,992,544,513,550",0.4%,16.1%,"58,978",0.8%,80.1%
41,213,"$12,903","$13,315","$3,250,017,431","$292,501,568,790","$12,285,046,082,340",0.4%,16.5%,"57,136",0.7%,80.8%
42,212,"$13,315","$13,745","$3,250,014,097","$292,501,268,730","$12,577,547,351,070",0.4%,16.9%,"55,341",0.7%,81.5%
43,211,"$13,745","$14,184","$3,250,022,151","$292,501,993,590","$12,870,049,344,660",0.4%,17.3%,"53,639",0.7%,82.2%
44,210,"$14,184","$14,641","$3,250,011,489","$292,501,034,010","$13,162,550,378,670",0.4%,17.6%,"51,964",0.7%,82.9%
45,209,"$14,641","$15,128","$3,250,008,910","$292,500,801,900","$13,455,051,180,570",0.4%,18%,"50,317",0.6%,83.5%
46,208,"$15,128","$15,626","$3,250,010,790","$292,500,971,100","$13,747,552,151,670",0.4%,18.4%,"48,709",0.6%,84.2%
47,207,"$15,626","$16,170","$3,250,016,043","$292,501,443,870","$14,040,053,595,540",0.4%,18.8%,"47,112",0.6%,84.8%
48,206,"$16,170","$16,735","$3,250,016,140","$292,501,452,600","$14,332,555,048,140",0.4%,19.2%,"45,533",0.6%,85.4%
49,205,"$16,735","$17,334","$3,250,018,198","$292,501,637,820","$14,625,056,685,960",0.4%,19.6%,"43,970",0.6%,85.9%
50,204,"$17,334","$17,898","$3,250,010,019","$292,500,901,710","$14,917,557,587,670",0.4%,20%,"42,548",0.5%,86.5%
51,203,"$17,898","$18,555","$3,250,025,499","$292,502,294,910","$15,210,059,882,580",0.4%,20.4%,"41,082",0.5%,87%
52,202,"$18,555","$19,242","$3,250,025,092","$292,502,258,280","$15,502,562,140,860",0.4%,20.8%,"39,606",0.5%,87.5%
53,201,"$19,242","$19,989","$3,250,018,124","$292,501,631,160","$15,795,063,772,020",0.4%,21.2%,"38,185",0.5%,88%
54,200,"$19,989","$20,725","$3,250,009,315","$292,500,838,350","$16,087,564,610,370",0.4%,21.6%,"36,765",0.5%,88.5%
55,199,"$20,725","$21,577","$3,250,024,734","$292,502,226,060","$16,380,066,836,430",0.4%,22%,"35,415",0.5%,88.9%
56,198,"$21,577","$22,470","$3,250,022,505","$292,502,025,450","$16,672,568,861,880",0.4%,22.4%,"34,003",0.4%,89.4%
57,197,"$22,470","$23,421","$3,250,024,920","$292,502,242,800","$16,965,071,104,680",0.4%,22.7%,"32,648",0.4%,89.8%
58,196,"$23,421","$24,451","$3,250,026,105","$292,502,349,450","$17,257,573,454,130",0.4%,23.1%,"31,297",0.4%,90.2%
59,195,"$24,451","$25,552","$3,250,031,191","$292,502,807,190","$17,550,076,261,320",0.4%,23.5%,"29,962",0.4%,90.6%
60,194,"$25,552","$26,712","$3,250,022,985","$292,502,068,650","$17,842,578,329,970",0.4%,23.9%,"28,666",0.4%,90.9%
61,193,"$26,712","$27,946","$3,250,031,485","$292,502,833,650","$18,135,081,163,620",0.4%,24.3%,"27,411",0.4%,91.3%
62,192,"$27,946","$29,240","$3,250,023,191","$292,502,087,190","$18,427,583,250,810",0.4%,24.7%,"26,199",0.3%,91.6%
63,191,"$29,240","$30,607","$3,250,037,662","$292,503,389,580","$18,720,086,640,390",0.4%,25.1%,"25,036",0.3%,92%
64,190,"$30,607","$32,086","$3,250,023,988","$292,502,158,920","$19,012,588,799,310",0.4%,25.5%,"23,895",0.3%,92.3%
65,189,"$32,086","$33,578","$3,250,036,926","$292,503,323,340","$19,305,092,122,650",0.4%,25.9%,"22,820",0.3%,92.6%
66,188,"$33,578","$35,126","$3,250,039,466","$292,503,551,940","$19,597,595,674,590",0.4%,26.3%,"21,803",0.3%,92.8%
67,187,"$35,126","$36,824","$3,250,040,459","$292,503,641,310","$19,890,099,315,900",0.4%,26.7%,"20,819",0.3%,93.1%
68,186,"$36,824","$38,619","$3,250,023,625","$292,502,126,250","$20,182,601,442,150",0.4%,27.1%,"19,854",0.3%,93.4%
69,185,"$38,619","$40,522","$3,250,034,394","$292,503,095,460","$20,475,104,537,610",0.4%,27.5%,"18,931",0.2%,93.6%
70,184,"$40,522","$42,562","$3,250,024,295","$292,502,186,550","$20,767,606,724,160",0.4%,27.8%,"18,030",0.2%,93.8%
71,183,"$42,562","$44,679","$3,250,009,382","$292,500,844,380","$21,060,107,568,540",0.4%,28.2%,"17,174",0.2%,94.1%
72,182,"$44,679","$46,944","$3,250,022,668","$292,502,040,120","$21,352,609,608,660",0.4%,28.6%,"16,353",0.2%,94.3%
73,181,"$46,944","$49,290","$3,250,010,749","$292,500,967,410","$21,645,110,576,070",0.4%,29%,"15,567",0.2%,94.5%
74,180,"$49,290","$51,754","$3,250,046,757","$292,504,208,130","$21,937,614,784,200",0.4%,29.4%,"14,831",0.2%,94.7%
75,179,"$51,754","$54,365","$3,250,038,787","$292,503,490,830","$22,230,118,275,030",0.4%,29.8%,"14,118",0.2%,94.9%
76,178,"$54,365","$57,036","$3,250,060,052","$292,505,404,680","$22,522,623,679,710",0.4%,30.2%,"13,446",0.2%,95%
77,177,"$57,036","$59,820","$3,250,048,183","$292,504,336,470","$22,815,128,016,180",0.4%,30.6%,"12,821",0.2%,95.2%
78,176,"$59,820","$62,736","$3,250,038,202","$292,503,438,180","$23,107,631,454,360",0.4%,31%,"12,225",0.2%,95.3%
79,175,"$62,736","$65,811","$3,250,034,919","$292,503,142,710","$23,400,134,597,070",0.4%,31.4%,"11,655",0.2%,95.5%
80,174,"$65,812","$68,954","$3,250,054,039","$292,504,863,510","$23,692,639,460,580",0.4%,31.8%,"11,117",0.1%,95.6%
81,173,"$68,954","$72,230","$3,250,012,046","$292,501,084,140","$23,985,140,544,720",0.4%,32.2%,"10,610",0.1%,95.8%
82,172,"$72,230","$75,667","$3,250,082,125","$292,507,391,250","$24,277,647,935,970",0.4%,32.5%,"10,128",0.1%,95.9%
83,171,"$75,667","$79,198","$3,250,025,582","$292,502,302,380","$24,570,150,238,350",0.4%,32.9%,"9,673",0.1%,96%
84,170,"$79,198","$82,835","$3,250,035,103","$292,503,159,270","$24,862,653,397,620",0.4%,33.3%,"9,246",0.1%,96.2%
85,169,"$82,835","$86,574","$3,250,084,811","$292,507,632,990","$25,155,161,030,610",0.4%,33.7%,"8,843",0.1%,96.3%
86,168,"$86,574","$90,438","$3,250,061,067","$292,505,496,030","$25,447,666,526,640",0.4%,34.1%,"8,463",0.1%,96.4%
87,167,"$90,438","$94,416","$3,250,046,879","$292,504,219,110","$25,740,170,745,750",0.4%,34.5%,"8,104",0.1%,96.5%
88,166,"$94,417","$98,479","$3,250,074,098","$292,506,668,820","$26,032,677,414,570",0.4%,34.9%,"7,767",0.1%,96.6%
89,165,"$98,479","$102,663","$3,250,070,483","$292,506,343,470","$26,325,183,758,040",0.4%,35.3%,"7,447",0.1%,96.7%
90,164,"$102,663","$106,991","$3,250,093,828","$292,508,444,520","$26,617,692,202,560",0.4%,35.7%,"7,145",0.1%,96.8%
91,163,"$106,991","$111,402","$3,250,060,521","$292,505,446,890","$26,910,197,649,450",0.4%,36.1%,"6,859",0.1%,96.9%
92,162,"$111,402","$115,943","$3,250,091,341","$292,508,220,690","$27,202,705,870,140",0.4%,36.5%,"6,589",0.1%,96.9%
93,161,"$115,943","$120,570","$3,250,106,954","$292,509,625,860","$27,495,215,496,000",0.4%,36.9%,"6,333",0.1%,97%
94,160,"$120,571","$125,292","$3,250,087,848","$292,507,906,320","$27,787,723,402,320",0.4%,37.3%,"6,093",0.1%,97.1%
95,159,"$125,292","$130,109","$3,250,036,984","$292,503,328,560","$28,080,226,730,880",0.4%,37.6%,"5,865",0.1%,97.2%
96,158,"$130,109","$134,974","$3,250,068,352","$292,506,151,680","$28,372,732,882,560",0.4%,38%,"5,652",0.1%,97.2%
97,157,"$134,974","$140,026","$3,250,028,349","$292,502,551,410","$28,665,235,433,970",0.4%,38.4%,"5,447",0.1%,97.3%
98,156,"$140,026","$145,148","$3,250,084,566","$292,507,610,940","$28,957,743,044,910",0.4%,38.8%,"5,253",0.1%,97.4%
99,155,"$145,148","$150,431","$3,250,106,588","$292,509,592,920","$29,250,252,637,830",0.4%,39.2%,"5,067",0.1%,97.5%
100,154,"$150,431","$155,720","$3,250,157,079","$292,514,137,110","$29,542,766,774,940",0.4%,39.6%,"4,893",0.1%,97.5%
101,153,"$155,720","$161,244","$3,250,017,984","$292,501,618,560","$29,835,268,393,500",0.4%,40%,"4,726",0.1%,97.6%
102,152,"$161,244","$166,774","$3,250,106,556","$292,509,590,040","$30,127,777,983,540",0.4%,40.4%,"4,567",0.1%,97.6%
103,151,"$166,775","$172,472","$3,250,067,577","$292,506,081,930","$30,420,284,065,470",0.4%,40.8%,"4,416",0.1%,97.7%
104,150,"$172,472","$178,312","$3,250,081,947","$292,507,375,230","$30,712,791,440,700",0.4%,41.2%,"4,270",0.1%,97.7%
105,149,"$178,312","$184,107","$3,250,172,574","$292,515,531,660","$31,005,306,972,360",0.4%,41.6%,"4,133",0.1%,97.8%
106,148,"$184,108","$190,010","$3,250,104,632","$292,509,416,880","$31,297,816,389,240",0.4%,42%,"4,003",0.1%,97.9%
107,147,"$190,010","$196,115","$3,250,139,914","$292,512,592,260","$31,590,328,981,500",0.4%,42.4%,"3,879",0.1%,97.9%
108,146,"$196,116","$202,242","$3,250,131,113","$292,511,800,170","$31,882,840,781,670",0.4%,42.7%,"3,760",0%,98%
109,145,"$202,243","$208,506","$3,250,170,274","$292,515,324,660","$32,175,356,106,330",0.4%,43.1%,"3,647",0%,98%
110,144,"$208,506","$214,773","$3,250,220,732","$292,519,865,880","$32,467,875,972,210",0.4%,43.5%,"3,539",0%,98%
111,143,"$214,773","$221,183","$3,250,193,698","$292,517,432,820","$32,760,393,405,030",0.4%,43.9%,"3,435",0%,98.1%
112,142,"$221,183","$227,792","$3,250,167,618","$292,515,085,620","$33,052,908,490,650",0.4%,44.3%,"3,336",0%,98.1%
113,141,"$227,793","$234,389","$3,250,183,762","$292,516,538,580","$33,345,425,029,230",0.4%,44.7%,"3,241",0%,98.2%
114,140,"$234,390","$241,003","$3,250,184,030","$292,516,562,700","$33,637,941,591,930",0.4%,45.1%,"3,151",0%,98.2%
115,139,"$241,003","$247,697","$3,250,245,468","$292,522,092,120","$33,930,463,684,050",0.4%,45.5%,"3,065",0%,98.3%
116,138,"$247,699","$254,524","$3,250,141,877","$292,512,768,930","$34,222,976,452,980",0.4%,45.9%,"2,982",0%,98.3%
117,137,"$254,525","$261,345","$3,250,220,223","$292,519,820,070","$34,515,496,273,050",0.4%,46.3%,"2,904",0%,98.3%
118,136,"$261,345","$268,261","$3,250,088,450","$292,507,960,500","$34,808,004,233,550",0.4%,46.7%,"2,828",0%,98.4%
119,135,"$268,261","$275,416","$3,250,274,423","$292,524,698,070","$35,100,528,931,620",0.4%,47.1%,"2,755",0%,98.4%
120,134,"$275,417","$282,711","$3,250,289,769","$292,526,079,210","$35,393,055,010,830",0.4%,47.5%,"2,684",0%,98.4%
121,133,"$282,711","$290,008","$3,250,135,096","$292,512,158,640","$35,685,567,169,470",0.4%,47.8%,"2,615",0%,98.5%
122,132,"$290,009","$297,313","$3,250,259,558","$292,523,360,220","$35,978,090,529,690",0.4%,48.2%,"2,551",0%,98.5%
123,131,"$297,314","$304,655","$3,250,107,882","$292,509,709,380","$36,270,600,239,070",0.4%,48.6%,"2,488",0%,98.5%
124,130,"$304,656","$312,046","$3,250,287,855","$292,525,906,950","$36,563,126,146,020",0.4%,49%,"2,429",0%,98.6%
125,129,"$312,046","$319,579","$3,250,120,776","$292,510,869,840","$36,855,637,015,860",0.4%,49.4%,"2,371",0%,98.6%
126,128,"$319,580","$327,316","$3,250,090,890","$292,508,180,100","$37,148,145,195,960",0.4%,49.8%,"2,315",0%,98.6%
127,127,"$327,317","$335,042","$3,250,014,684","$292,501,321,560","$37,440,646,517,520",0.4%,50.2%,"2,261",0%,98.7%
128,126,"$335,043","$342,817","$3,250,024,854","$292,502,236,860","$37,733,148,754,380",0.4%,50.6%,"2,209",0%,98.7%
129,125,"$342,818","$350,703","$3,250,130,185","$292,511,716,650","$38,025,660,471,030",0.4%,51%,"2,160",0%,98.7%
130,124,"$350,704","$358,669","$3,250,309,359","$292,527,842,310","$38,318,188,313,340",0.4%,51.4%,"2,111",0%,98.7%
131,123,"$358,670","$366,823","$3,250,281,099","$292,525,298,910","$38,610,713,612,250",0.4%,51.8%,"2,065",0%,98.8%
132,122,"$366,824","$375,077","$3,250,180,742","$292,516,266,780","$38,903,229,879,030",0.4%,52.2%,"2,019",0%,98.8%
133,121,"$375,077","$383,046","$3,250,285,545","$292,525,699,050","$39,195,755,578,080",0.4%,52.5%,"1,976",0%,98.8%
134,120,"$383,047","$391,607","$3,250,337,593","$292,530,383,370","$39,488,285,961,450",0.4%,52.9%,"1,934",0%,98.8%
135,119,"$391,607","$400,172","$3,250,325,926","$292,529,333,340","$39,780,815,294,790",0.4%,53.3%,"1,892",0%,98.9%
136,118,"$400,172","$408,868","$3,250,264,264","$292,523,783,760","$40,073,339,078,550",0.4%,53.7%,"1,851",0%,98.9%
137,117,"$408,869","$417,670","$3,250,194,199","$292,517,477,910","$40,365,856,556,460",0.4%,54.1%,"1,812",0%,98.9%
138,116,"$417,671","$426,503","$3,250,248,820","$292,522,393,800","$40,658,378,950,260",0.4%,54.5%,"1,774",0%,98.9%
139,115,"$426,504","$435,439","$3,250,417,785","$292,537,600,650","$40,950,916,550,910",0.4%,54.9%,"1,738",0%,99%
140,114,"$435,439","$444,352","$3,250,195,987","$292,517,638,830","$41,243,434,189,740",0.4%,55.3%,"1,702",0%,99%
141,113,"$444,353","$453,542","$3,250,408,686","$292,536,781,740","$41,535,970,971,480",0.4%,55.7%,"1,668",0%,99%
142,112,"$453,542","$462,704","$3,250,431,929","$292,538,873,610","$41,828,509,845,090",0.4%,56.1%,"1,635",0%,99%
143,111,"$462,707","$472,090","$3,250,300,065","$292,527,005,850","$42,121,036,850,940",0.4%,56.5%,"1,602",0%,99%
144,110,"$472,091","$481,582","$3,250,387,340","$292,534,860,600","$42,413,571,711,540",0.4%,56.9%,"1,571",0%,99.1%
145,109,"$481,584","$491,317","$3,250,161,358","$292,514,522,220","$42,706,086,233,760",0.4%,57.3%,"1,540",0%,99.1%
146,108,"$491,317","$501,112","$3,250,416,239","$292,537,461,510","$42,998,623,695,270",0.4%,57.6%,"1,509",0%,99.1%
147,107,"$501,113","$510,766","$3,250,501,055","$292,545,094,950","$43,291,168,790,220",0.4%,58%,"1,480",0%,99.1%
148,106,"$510,767","$520,655","$3,250,415,648","$292,537,408,320","$43,583,706,198,540",0.4%,58.4%,"1,452",0%,99.1%
149,105,"$520,655","$530,718","$3,250,148,996","$292,513,409,640","$43,876,219,608,180",0.4%,58.8%,"1,424",0%,99.2%
150,104,"$530,719","$540,866","$3,250,364,691","$292,532,822,190","$44,168,752,430,370",0.4%,59.2%,"1,398",0%,99.2%
151,103,"$540,868","$551,478","$3,250,156,994","$292,514,129,460","$44,461,266,559,830",0.4%,59.6%,"1,371",0%,99.2%
152,102,"$551,480","$562,463","$3,250,101,398","$292,509,125,820","$44,753,775,685,650",0.4%,60%,"1,345",0%,99.2%
153,101,"$562,465","$572,972","$3,250,358,728","$292,532,285,520","$45,046,307,971,170",0.4%,60.4%,"1,319",0%,99.2%
154,100,"$572,973","$583,602","$3,250,210,396","$292,518,935,640","$45,338,826,906,810",0.4%,60.8%,"1,295",0%,99.2%
155,99,"$583,603","$594,457","$3,250,354,441","$292,531,899,690","$45,631,358,806,500",0.4%,61.2%,"1,271",0%,99.3%
156,98,"$594,458","$605,441","$3,250,577,607","$292,551,984,630","$45,923,910,791,130",0.4%,61.6%,"1,248",0%,99.3%
157,97,"$605,448","$616,665","$3,250,602,407","$292,554,216,630","$46,216,465,007,760",0.4%,62%,"1,226",0%,99.3%
158,96,"$616,667","$627,812","$3,250,528,193","$292,547,537,370","$46,509,012,545,130",0.4%,62.4%,"1,204",0%,99.3%
159,95,"$627,813","$638,913","$3,250,601,263","$292,554,113,670","$46,801,566,658,800",0.4%,62.7%,"1,182",0%,99.3%
160,94,"$638,913","$650,456","$3,250,189,924","$292,517,093,160","$47,094,083,751,960",0.4%,63.1%,"1,162",0%,99.3%
161,93,"$650,457","$661,946","$3,250,538,940","$292,548,504,600","$47,386,632,256,560",0.4%,63.5%,"1,141",0%,99.4%
162,92,"$661,949","$673,592","$3,250,609,635","$292,554,867,150","$47,679,187,123,710",0.4%,63.9%,"1,122",0%,99.4%
163,91,"$673,592","$685,624","$3,250,380,164","$292,534,214,760","$47,971,721,338,470",0.4%,64.3%,"1,102",0%,99.4%
164,90,"$685,625","$697,523","$3,250,549,156","$292,549,424,040","$48,264,270,762,510",0.4%,64.7%,"1,083",0%,99.4%
165,89,"$697,524","$709,342","$3,250,464,659","$292,541,819,310","$48,556,812,581,820",0.4%,65.1%,"1,065",0%,99.4%
166,88,"$709,344","$721,525","$3,250,530,888","$292,547,779,920","$48,849,360,361,740",0.4%,65.5%,"1,047",0%,99.4%
167,87,"$721,527","$734,045","$3,250,428,399","$292,538,555,910","$49,141,898,917,650",0.4%,65.9%,"1,029",0%,99.4%
168,86,"$734,051","$746,377","$3,250,525,688","$292,547,311,920","$49,434,446,229,570",0.4%,66.3%,"1,012",0%,99.5%
169,85,"$746,381","$759,807","$3,250,749,842","$292,567,485,780","$49,727,013,715,350",0.4%,66.7%,995,0%,99.5%
170,84,"$759,810","$772,722","$3,250,015,035","$292,501,353,150","$50,019,515,068,500",0.4%,67.1%,977,0%,99.5%
171,83,"$772,723","$786,264","$3,250,145,981","$292,513,138,290","$50,312,028,206,790",0.4%,67.5%,961,0%,99.5%
172,82,"$786,270","$799,917","$3,250,102,453","$292,509,220,770","$50,604,537,427,560",0.4%,67.8%,944,0%,99.5%
173,81,"$799,918","$813,030","$3,250,692,434","$292,562,319,060","$50,897,099,746,620",0.4%,68.2%,929,0%,99.5%
174,80,"$813,039","$826,680","$3,250,239,168","$292,521,525,120","$51,189,621,271,740",0.4%,68.6%,913,0%,99.5%
175,79,"$826,681","$840,425","$3,250,174,761","$292,515,728,490","$51,482,137,000,230",0.4%,69%,898,0%,99.5%
176,78,"$840,433","$854,594","$3,250,786,833","$292,570,814,970","$51,774,707,815,200",0.4%,69.4%,884,0%,99.5%
177,77,"$854,594","$868,886","$3,250,287,478","$292,525,873,020","$52,067,233,688,220",0.4%,69.8%,869,0%,99.6%
178,76,"$868,888","$883,735","$3,250,758,664","$292,568,279,760","$52,359,801,967,980",0.4%,70.2%,855,0%,99.6%
179,75,"$883,738","$898,874","$3,250,725,402","$292,565,286,180","$52,652,367,254,160",0.4%,70.6%,840,0%,99.6%
180,74,"$898,885","$914,179","$3,250,396,958","$292,535,726,220","$52,944,902,980,380",0.4%,71%,826,0%,99.6%
181,73,"$914,180","$929,683","$3,250,724,619","$292,565,215,710","$53,237,468,196,090",0.4%,71.4%,812,0%,99.6%
182,72,"$929,685","$945,469","$3,250,734,691","$292,566,122,190","$53,530,034,318,280",0.4%,71.8%,799,0%,99.6%
183,71,"$945,472","$961,242","$3,250,183,664","$292,516,529,760","$53,822,550,848,040",0.4%,72.2%,786,0%,99.6%
184,70,"$961,254","$977,873","$3,250,487,590","$292,543,883,100","$54,115,094,731,140",0.4%,72.6%,773,0%,99.6%
185,69,"$977,874","$994,449","$3,250,869,450","$292,578,250,500","$54,407,672,981,640",0.4%,72.9%,760,0%,99.6%
186,68,"$994,456","$1,011,588","$3,250,633,658","$292,557,029,220","$54,700,230,010,860",0.4%,73.3%,747,0%,99.7%
187,67,"$1,011,597","$1,029,021","$3,250,239,692","$292,521,572,280","$54,992,751,583,140",0.4%,73.7%,734,0%,99.7%
188,66,"$1,029,027","$1,047,003","$3,250,787,567","$292,570,881,030","$55,285,322,464,170",0.4%,74.1%,722,0%,99.7%
189,65,"$1,047,013","$1,066,107","$3,250,681,827","$292,561,364,430","$55,577,883,828,600",0.4%,74.5%,709,0%,99.7%
190,64,"$1,066,115","$1,084,959","$3,250,398,900","$292,535,901,000","$55,870,419,729,600",0.4%,74.9%,696,0%,99.7%
191,63,"$1,084,979","$1,104,152","$3,250,690,879","$292,562,179,110","$56,162,981,908,710",0.4%,75.3%,684,0%,99.7%
192,62,"$1,104,157","$1,124,138","$3,250,021,633","$292,501,946,970","$56,455,483,855,680",0.4%,75.7%,672,0%,99.7%
193,61,"$1,124,145","$1,144,022","$3,250,454,322","$292,540,888,980","$56,748,024,744,660",0.4%,76.1%,660,0%,99.7%
194,60,"$1,144,034","$1,164,991","$3,250,884,284","$292,579,585,560","$57,040,604,330,220",0.4%,76.5%,649,0%,99.7%
195,59,"$1,164,997","$1,185,837","$3,250,963,056","$292,586,675,040","$57,333,191,005,260",0.4%,76.9%,637,0%,99.7%
196,58,"$1,185,844","$1,206,909","$3,250,072,765","$292,506,548,850","$57,625,697,554,110",0.4%,77.3%,626,0%,99.7%
197,57,"$1,206,940","$1,229,669","$3,250,195,011","$292,517,550,990","$57,918,215,105,100",0.4%,77.7%,615,0%,99.7%
198,56,"$1,229,674","$1,252,559","$3,250,500,922","$292,545,082,980","$58,210,760,188,080",0.4%,78%,603,0%,99.8%
199,55,"$1,252,567","$1,275,778","$3,250,055,855","$292,505,026,950","$58,503,265,215,030",0.4%,78.4%,592,0%,99.8%
200,54,"$1,275,784","$1,299,558","$3,250,077,170","$292,506,945,300","$58,795,772,160,330",0.4%,78.8%,582,0%,99.8%
201,53,"$1,299,572","$1,323,646","$3,250,299,386","$292,526,944,740","$59,088,299,105,070",0.4%,79.2%,571,0%,99.8%
202,52,"$1,323,660","$1,347,937","$3,251,056,803","$292,595,112,270","$59,380,894,217,340",0.4%,79.6%,561,0%,99.8%
203,51,"$1,347,939","$1,372,886","$3,250,539,105","$292,548,519,450","$59,673,442,736,790",0.4%,80%,550,0%,99.8%
204,50,"$1,372,887","$1,399,578","$3,251,049,162","$292,594,424,580","$59,966,037,161,370",0.4%,80.4%,540,0%,99.8%
205,49,"$1,399,588","$1,426,696","$3,251,427,028","$292,628,432,520","$60,258,665,593,890",0.4%,80.8%,530,0%,99.8%
206,48,"$1,426,699","$1,453,190","$3,251,407,065","$292,626,635,850","$60,551,292,229,740",0.4%,81.2%,520,0%,99.8%
207,47,"$1,453,204","$1,480,103","$3,250,013,822","$292,501,243,980","$60,843,793,473,720",0.4%,81.6%,511,0%,99.8%
208,46,"$1,480,142","$1,508,596","$3,250,341,807","$292,530,762,630","$61,136,324,236,350",0.4%,82%,501,0%,99.8%
209,45,"$1,508,598","$1,538,506","$3,251,288,457","$292,615,961,130","$61,428,940,197,480",0.4%,82.4%,492,0%,99.8%
210,44,"$1,538,520","$1,569,380","$3,251,124,476","$292,601,202,840","$61,721,541,400,320",0.4%,82.8%,482,0%,99.8%
211,43,"$1,569,415","$1,599,713","$3,251,343,949","$292,620,955,410","$62,014,162,355,730",0.4%,83.1%,473,0%,99.8%
212,42,"$1,599,716","$1,631,050","$3,250,979,117","$292,588,120,530","$62,306,750,476,260",0.4%,83.5%,464,0%,99.8%
213,41,"$1,631,065","$1,664,634","$3,250,546,848","$292,549,216,320","$62,599,299,692,580",0.4%,83.9%,455,0%,99.9%
214,40,"$1,664,652","$1,697,488","$3,250,311,606","$292,528,044,540","$62,891,827,737,120",0.4%,84.3%,446,0%,99.9%
215,39,"$1,697,505","$1,731,625","$3,251,198,272","$292,607,844,480","$63,184,435,581,600",0.4%,84.7%,437,0%,99.9%
216,38,"$1,731,653","$1,767,388","$3,251,073,985","$292,596,658,650","$63,477,032,240,250",0.4%,85.1%,428,0%,99.9%
217,37,"$1,767,409","$1,803,425","$3,251,348,752","$292,621,387,680","$63,769,653,627,930",0.4%,85.5%,420,0%,99.9%
218,36,"$1,803,432","$1,839,934","$3,251,629,386","$292,646,644,740","$64,062,300,272,670",0.4%,85.9%,411,0%,99.9%
219,35,"$1,839,943","$1,879,451","$3,250,233,530","$292,521,017,700","$64,354,821,290,370",0.4%,86.3%,403,0%,99.9%
220,34,"$1,879,462","$1,919,121","$3,251,577,387","$292,641,964,830","$64,647,463,255,200",0.4%,86.7%,394,0%,99.9%
221,33,"$1,919,146","$1,959,288","$3,250,245,014","$292,522,051,260","$64,939,985,306,460",0.4%,87.1%,386,0%,99.9%
222,32,"$1,959,312","$2,001,549","$3,251,247,376","$292,612,263,840","$65,232,597,570,300",0.4%,87.5%,378,0%,99.9%
223,31,"$2,001,558","$2,044,390","$3,250,502,704","$292,545,243,360","$65,525,142,813,660",0.4%,87.8%,370,0%,99.9%
224,30,"$2,044,410","$2,086,584","$3,250,991,194","$292,589,207,460","$65,817,732,021,120",0.4%,88.2%,363,0%,99.9%
225,29,"$2,086,602","$2,133,187","$3,251,241,120","$292,611,700,800","$66,110,343,721,920",0.4%,88.6%,355,0%,99.9%
226,28,"$2,133,204","$2,180,632","$3,250,279,030","$292,525,112,700","$66,402,868,834,620",0.4%,89%,347,0%,99.9%
227,27,"$2,180,690","$2,231,163","$3,250,106,320","$292,509,568,800","$66,695,378,403,420",0.4%,89.4%,340,0%,99.9%
228,26,"$2,231,269","$2,283,431","$3,251,995,316","$292,679,578,440","$66,988,057,981,860",0.4%,89.8%,332,0%,99.9%
229,25,"$2,283,476","$2,341,311","$3,251,300,574","$292,617,051,660","$67,280,675,033,520",0.4%,90.2%,324,0%,99.9%
230,24,"$2,341,316","$2,397,739","$3,251,577,048","$292,641,934,320","$67,573,316,967,840",0.4%,90.6%,316,0%,99.9%
231,23,"$2,397,785","$2,455,646","$3,251,067,441","$292,596,069,690","$67,865,913,037,530",0.4%,91%,309,0%,99.9%
232,22,"$2,455,756","$2,517,453","$3,250,112,115","$292,510,090,350","$68,158,423,127,880",0.4%,91.4%,301,0%,99.9%
233,21,"$2,517,532","$2,585,036","$3,250,696,770","$292,562,709,300","$68,450,985,837,180",0.4%,91.8%,294,0%,99.9%
234,20,"$2,585,110","$2,657,720","$3,250,682,097","$292,561,388,730","$68,743,547,225,910",0.4%,92.2%,286,0%,100%
235,19,"$2,657,809","$2,732,299","$3,252,097,950","$292,688,815,500","$69,036,236,041,410",0.4%,92.6%,278,0%,100%
236,18,"$2,732,341","$2,816,766","$3,250,324,377","$292,529,193,930","$69,328,765,235,340",0.4%,92.9%,270,0%,100%
237,17,"$2,816,771","$2,906,740","$3,252,485,861","$292,723,727,490","$69,621,488,962,830",0.4%,93.3%,262,0%,100%
238,16,"$2,907,014","$3,005,973","$3,251,075,854","$292,596,826,860","$69,914,085,789,690",0.4%,93.7%,253,0%,100%
239,15,"$3,006,065","$3,113,422","$3,251,927,138","$292,673,442,420","$70,206,759,232,110",0.4%,94.1%,245,0%,100%
240,14,"$3,113,425","$3,231,678","$3,250,799,529","$292,571,957,610","$70,499,331,189,720",0.4%,94.5%,236,0%,100%
241,13,"$3,231,712","$3,371,588","$3,252,940,776","$292,764,669,840","$70,792,095,859,560",0.4%,94.9%,227,0%,100%
242,12,"$3,371,681","$3,523,688","$3,250,168,219","$292,515,139,710","$71,084,610,999,270",0.4%,95.3%,217,0%,100%
243,11,"$3,523,766","$3,696,243","$3,250,294,210","$292,526,478,900","$71,377,137,478,170",0.4%,95.7%,208,0%,100%
244,10,"$3,696,730","$3,890,638","$3,251,465,235","$292,631,871,150","$71,669,769,349,320",0.4%,96.1%,198,0%,100%
245,9,"$3,891,239","$4,114,544","$3,251,341,427","$292,620,728,430","$71,962,390,077,750",0.4%,96.5%,187,0%,100%
246,8,"$4,114,694","$4,387,188","$3,251,690,250","$292,652,122,500","$72,255,042,200,250",0.4%,96.9%,177,0%,100%
247,7,"$4,387,568","$4,731,004","$3,251,749,769","$292,657,479,210","$72,547,699,679,460",0.4%,97.3%,165,0%,100%
248,6,"$4,731,026","$5,159,078","$3,251,377,701","$292,623,993,090","$72,840,323,672,550",0.4%,97.7%,152,0%,100%
249,5,"$5,159,850","$5,752,326","$3,253,041,792","$292,773,761,280","$73,133,097,433,830",0.4%,98%,138,0%,100%
250,4,"$5,754,138","$6,564,390","$3,250,628,783","$292,556,590,470","$73,425,654,024,300",0.4%,98.4%,122,0%,100%
251,3,"$6,565,599","$7,712,314","$3,252,064,418","$292,685,797,620","$73,718,339,821,920",0.4%,98.8%,106,0%,100%
252,2,"$7,723,156","$9,663,607","$3,251,745,236","$292,657,071,240","$74,010,996,893,160",0.4%,99.2%,88,0%,100%
253,1,"$9,670,374","$14,907,827","$3,253,357,025","$292,802,132,250","$74,303,799,025,410",0.4%,99.6%,64,0%,100%
254,0,"$14,913,885","$53,112,956","$3,154,275,893","$283,884,830,370","$74,587,683,855,780",0.4%,100%,33,0%,100%
`;

csvData.split('\n').forEach(line => {
    const values = line.split(/,(?=(?:[^"]*"[^"]*")*[^"]*$)/); // Split by comma not inside double quotes
    const position = values.shift(); // Remove the first value and use it as the key
    positionValues[position] = values.map(val => val.trim().replace(/"/g, '')); // Remove surrounding double quotes and trim
});

console.log(positionValues);



window.onload = function() {
    var canvas = document.getElementById('colorCanvas');
    var ctx = canvas.getContext('2d');
    var slider = document.getElementById('visibilitySlider');
    var grayValue = document.getElementById('grayValue');
    var num = document.getElementById('num');
    var minVal = document.getElementById('minVal');
    var maxVal = document.getElementById('maxVal');
    var val = document.getElementById('val');
    var valMult28 = document.getElementById('valMult28');
    var cumValMult28 = document.getElementById('cumValMult28');
    var pctVal = document.getElementById('pctVal');
    var cumPctVal = document.getElementById('cumPctVal');
    var sqKm = document.getElementById('sqKm');
    var pctLand = document.getElementById('pctLand');
    var cumPctLand = document.getElementById('cumPctLand');
    var originalImageData = null;

    // Load the grayscale image
    var img = new Image();
    img.onload = function() {
        canvas.width = img.width;
        canvas.height = img.height;
        ctx.drawImage(img, 0, 0);
        originalImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
        updateCanvas(255); // Initially show all pixels
    };
    //    img.src = './land_value_gray2.jpg'; // Replace with the path to your grayscale image
    img.src = './lv_map_png.png'; // Replace with the path to your grayscale image


    // Define the color key points
    const colorRamp = [
        { value: 0, color: [43, 131, 186] },
        { value: 63.75, color: [171, 221, 164] },
        { value: 127.5, color: [255, 255, 191] },
        { value: 191.25, color: [253, 174, 97] },
        { value: 254, color: [215, 25, 28] }
    ];

/*
    // Define the color key points
    const colorRamp = [
        { value: 0, color: [43, 131, 186] },
        { value: 63.75, color: [171, 221, 164] },
        { value: 127.5, color: [255, 255, 191] },
        { value: 191.25, color: [253, 174, 97] },
        { value: 255, color: [215, 25, 28] }
    ];
*/

    // Function to interpolate a color based on a grayscale value
    function grayscaleToColor(grayscale) {
        // Find the two key points the grayscale value falls between
        let startIndex = 0;
        for (let i = 1; i < colorRamp.length; i++) {
            if (grayscale < colorRamp[i].value) {
                startIndex = i - 1;
                break;
            }
        }

        const startValue = colorRamp[startIndex].value;
        const endValue = colorRamp[startIndex + 1].value;
        const position = (grayscale - startValue) / (endValue - startValue);

        const startColor = colorRamp[startIndex].color;
        const endColor = colorRamp[startIndex + 1].color;

        const r = startColor[0] + (endColor[0] - startColor[0]) * position;
        const g = startColor[1] + (endColor[1] - startColor[1]) * position;
        const b = startColor[2] + (endColor[2] - startColor[2]) * position;

        return [Math.round(r), Math.round(g), Math.round(b)];
    }

        // Function to update the canvas based on the slider value
        function updateCanvas(threshold) {
            var imageData = new ImageData(new Uint8ClampedArray(originalImageData.data), canvas.width, canvas.height);
            var data = imageData.data;

            // Map grayscale values to RGB values and apply threshold
            for (var i = 0; i < data.length; i += 4) {
                var grayscale = data[i];

                if (grayscale <= threshold) {
                    var rgb = grayscaleToColor(grayscale);
                    data[i] = rgb[0];     // Red
                    data[i + 1] = rgb[1]; // Green
                    data[i + 2] = rgb[2]; // Blue
                } else {
                    data[i + 3] = 0; // Make pixel transparent
                }
            }

            // Put the modified image data back to the canvas
            ctx.putImageData(imageData, 0, 0);
        }

        // Update the canvas and the slider value display when the slider value changes
        slider.oninput = function() {
            updateCanvas(this.value);
            grayValue.textContent = this.value;
            const values = positionValues[this.value] || [];
            num.textContent = values[0] || '';
            minVal.textContent = values[1] || '';
            maxVal.textContent = values[2] || '';
            val.textContent = values[3] || '';
            valMult28.textContent = values[4] || '';
            cumValMult28.textContent = values[5] || '';
            pctVal.textContent = values[6] || '';
            cumPctVal.textContent = values[7] || '';
            sqKm.textContent = values[8] || '';
            pctLand.textContent = values[9] || '';
            cumPctLand.textContent = values[10] || '';
        };

    };
    </script>
</body>
</html>